<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Michroma&family=Montserrat:wght@600&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./assets/css/player.css">
    <link id="favSvg" rel="icon" type="image/svg+xml" href="./assets/images/favicon.svg">
    <link id="favPng" rel="icon" type="image/png" href="./assets/images/favicon.png">

    <script type="text/javascript">
        var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
        if (isFirefox) {
            window.navigator.mozGetUserMedia = function () { };
            if (window.navigator.mediaDevices === undefined) {
                navigator.mediaDevices = {};
                navigator.mediaDevices.getSupportedConstraints = function () { return {}; };
                navigator.mediaDevices.getUserMedia = function () { return {}; };
            }
        }
    </script>

    <title>Scalable Pixel Streaming</title>
</head>

<body>
    <div id="playerUI" class="noselect">
        <div id="videoElementParent"></div>
        <div id="uiFeatures">

            <div id="connection" class="spsUiTool">
                <svg version="1.1" id="connectionStrength" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 494.45 494.45"
                    style="enable-background:new 0 0 494.45 494.45;" xml:space="preserve">
                    <circle id="dot" cx="247.125" cy="398.925" r="35.3" />

                    <path id="middle"
                        d="M395.225,277.325c-6.8,0-13.5-2.6-18.7-7.8c-71.4-71.3-187.4-71.3-258.8,0c-10.3,10.3-27.1,10.3-37.4,0
                        s-10.3-27.1,0-37.4c92-92,241.6-92,333.6,0c10.3,10.3,10.3,27.1,0,37.4C408.725,274.725,401.925,277.325,395.225,277.325z" />

                    <path id="outer" d="M467.925,204.625c-6.8,0-13.5-2.6-18.7-7.8c-111.5-111.4-292.7-111.4-404.1,0c-10.3,10.3-27.1,10.3-37.4,0
                        s-10.3-27.1,0-37.4c64-64,149-99.2,239.5-99.2s175.5,35.2,239.5,99.2c10.3,10.3,10.3,27.1,0,37.4
                        C481.425,202.025,474.625,204.625,467.925,204.625z" />

                    <path id="inner" d="M323.625,348.825c-6.8,0-13.5-2.6-18.7-7.8c-15.4-15.4-36-23.9-57.8-23.9s-42.4,8.5-57.8,23.9
                        c-10.3,10.3-27.1,10.3-37.4,0c-10.3-10.3-10.3-27.1,0-37.4c25.4-25.4,59.2-39.4,95.2-39.4s69.8,14,95.2,39.5
                        c10.3,10.3,10.3,27.1,0,37.4C337.225,346.225,330.425,348.825,323.625,348.825z" />

                </svg>
                <span class="tooltiptext" id="qualityText">Not connected</span>
            </div>

            <div id="controls">
                <button type="button" class="spsUiTool" id="fullscreen-btn">
                    <object title="Minimize" data="./assets/images/Minimize.svg" type="image/svg+xml" id="minimizeIcon"></object>
                    <object title="Maximize" data="./assets/images/Maximize.svg" type="image/svg+xml" id="maximizeIcon"></object>
                    <span class="tooltiptext">Fullscreen</span>
                </button>
                <button type="button" class="spsUiTool" id="settingsBtn">
                    <object title="Settings" data="./assets/images/Settings.svg" type="image/svg+xml" id="settingsIcon"></object>
                    <span class="tooltiptext">Settings</span>
                </button>
                <button type="button" class="spsUiTool" id="statsBtn">
                    <object title="Info" data="./assets/images/Info.svg" type="image/svg+xml" id="statsIcon"></object>
                    <span class="tooltiptext">Information</span>
                </button>
            </div>

            <div class="panel-wrap" id="settings-panel">
                <div class="panel">
                    <div id="settingsHeading">Settings</div>
                    <div id="settingsClose"></div>
                    <div id="settingsContent">
                        <section id="preStreamOptions" class="settingsContainer">

                            <div id="preStreamOptionsHeader" class="settingsHeader settings-text">
                                <div>Pixel Streaming</div>
                            </div>

                            <div id="preferSFU" class="setting">
                                <div title="Try to connect to the SFU instead of P2P." class="settings-text">Prefer SFU</div>
                                <label class="tgl-switch">
                                    <input type="checkbox" id="prefer-sfu-tgl" class="tgl tgl-flat">
                                    <div class="tgl-slider"></div>
                                </label>
                            </div>

                            <div id="useMic" class="setting">
                                <div class="settings-text">Use microphone</div>
                                <label class="tgl-switch">
                                    <input type="checkbox" id="use-microphone-tgl" class="tgl tgl-flat">
                                    <div class="tgl-slider"></div>
                                </label>
                            </div>

                            <div id="forceMonoAudio" class="setting">
                                <div class="settings-text">Force mono audio</div>
                                <label class="tgl-switch">
                                    <input type="checkbox" id="force-mono-tgl" class="tgl tgl-flat">
                                    <div class="tgl-slider"></div>
                                </label>
                            </div>

                            <div id="forceTURN" class="setting">
                                <div title="Only generate TURN/Relayed ICE candidates." class="settings-text">Force TURN</div>
                                <label class="tgl-switch">
                                    <input type="checkbox" id="force-turn-tgl" class="tgl tgl-flat">
                                    <div class="tgl-slider"></div>
                                </label>
                            </div>

                            <div id="afkIfIdle" class="setting">
                                <div class="settings-text">Disconnect if idle</div>
                                <label class="tgl-switch">
                                    <input type="checkbox" id="afk-toggle" class="tgl tgl-flat">
                                    <div class="tgl-slider"></div>
                                </label>
                            </div>

                        </section>

                        <section id="viewSettings" class="settingsContainer">
                            <div id="viewSettingsHeader" class="settingsHeader settings-text">
                                <div>UI</div>
                            </div>
                            <div id="viewSettingsContainer" class="d-none">

                                <div id="fillWindow" class="setting">
                                    <div class="settings-text">Video fill window</div>
                                    <label class="tgl-switch">
                                        <input type="checkbox" id="enlarge-display-to-fill-window-tgl" class="tgl tgl-flat" checked>
                                        <div class="tgl-slider"></div>
                                    </label>
                                </div>

                                <div id="matchViewportResolution" class="setting">
                                    <div class="settings-text">Match viewport resolution</div>
                                    <label class="tgl-switch">
                                        <input type="checkbox" id="match-viewport-res-tgl" class="tgl tgl-flat">
                                        <div class="tgl-slider"></div>
                                    </label>
                                </div>

                                <div id="toggleControl" class="setting">
                                    <div class="settings-text" id="control-scheme-title">Control Scheme</div>
                                    <label class="btn-overlay">
                                        <label class="tgl-switch">
                                            <input type="checkbox" id="control-scheme-tgl" class="tgl tgl-flat">
                                            <div class="tgl-slider"></div>
                                        </label>
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section id="commands" class="settingsContainer">
                            <div id="commandsHeader" class="settingsHeader settings-text">
                                <div>Commands</div>
                            </div>
                            <div id="commandsContainer" class="d-none">
                                <div id="showFPS" class="setting">
                                    <div class="settings-text">Show FPS</div>
                                    <label class="btn-overlay">
                                        <input type="button" id="show-fps-button" class="overlay-button btn-flat" value="Toggle">
                                    </label>
                                </div>
                                <div class="setting">
                                    <div class="settings-text">Restart Stream</div>
                                    <label class="btn-overlay">
                                        <input type="button" id="restart-stream-button" class="overlay-button btn-flat" value="Restart">
                                    </label>
                                </div>	
                                <div id="keyframeRequest" class="setting">
                                    <div class="settings-text">Request KeyFrame</div>
                                    <label class="btn-overlay">
                                        <input type="button" id="request-keyframe-button" class="overlay-button btn-flat" value="Request">
                                    </label>
                                </div>
                            </div>
                        </section>

                        <section id="encoderSettings">
                            <div id="encoderSettingsHeader" class="settingsHeader settings-text">
                                <div>Encoder Settings</div>
                            </div>
                            <div id="encoderParamsContainer" class="collapse">
                                <div class="form-group">
                                    <label for="encoder-min-qp-text">Min QP</label>
                                    <input type="number" class="form-control" id="encoder-min-qp-text" value="0" min="0"
                                        max="51" />
                                    <label for="encoder-max-qp-text">Max QP</label>
                                    <input type="number" class="form-control" id="encoder-max-qp-text" value="51" min="0"
                                        max="51" />
                                    <br>
                                    <input id="encoder-params-submit" class="overlay-button btn-flat" type="button"
                                        value="Apply">
                                </div>
                            </div>
                        </section>

                        <section id="webRTCSettings">
                            <div id="webRTCSettingsHeader" class="settingsHeader settings-text">
                                <div>WebRTC Settings</div>
                            </div>
                            <div id="webrtcParamsContainer" class="collapse">
                                <div class="form-group">
                                    <label for="webrtc-fps-text">FPS</label>
                                    <input type="number" class="form-control" id="webrtc-fps-text" value="60" min="1"
                                        max="999" />
                                    <label for="webrtc-min-bitrate-text">Min bitrate (kbps)</label>
                                    <input type="number" class="form-control" id="webrtc-min-bitrate-text" value="0" min="0"
                                        max="100000" />
                                    <label for="webrtc-max-bitrate-text">Max bitrate (kbps)</label>
                                    <input type="number" class="form-control" id="webrtc-max-bitrate-text" value="0" min="0"
                                        max="100000" />
                                    <br>
                                    <input id="webrtc-params-submit" class="overlay-button btn-flat" type="button"
                                        value="Apply">
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
            <div class="panel-wrap" id="stats-panel">
                <div class="panel">
                    <div id="statsHeading">Information</div>
                    <div id="statsClose"></div>
                    <div id="statsContent">
                        <div id="streamToolsStats" class="container">
                            <div id="ControlsStats" class="row">
                                <section id="statistics" class="settingsContainer">
                                    <div id="statisticsHeader" class="settings-text">
                                        <div>Session Stats</div>
                                    </div>
                                    <div id="statisticsContainer" class="d-none">
                                        <div class="row">
                                            <div class="col-sm me-3" style="width: 80%;">
                                                <label class="form-check-label" for="send-stats-tgl"
                                                    id="control-scheme-title">Send
                                                    to server</label>
                                            </div>
                                            <div class="form-check form-switch col-auto">
                                                <input class="form-check-input" type="checkbox" role="switch"
                                                    id="send-stats-tgl">
                                            </div>
                                        </div>
                                        <div id="statisticsResult" class="StatsResult"></div>
                                    </div>
                                </section>

                                <section id="latencyTest" class="settingsContainer">
                                    <div id="latencyTestHeader" class="settings-text">
                                        <div>Latency Test</div>
                                        <input id="btn-start-latency-test" class="streamTools-button btn-flat"
                                            type="button" value="Run Test">
                                    </div>
                                    <div id="latencyTestContainer" class="d-none">
                                        <div id="latencyStatsResults" class="StatsResult"></div>
                                    </div>
                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div
        style="position: fixed; bottom: 0; right: 0; padding-right: 10px; padding-bottom: 10px; font-size: 12px; color: #ffffff; z-index: 9999;">
        <a href="https://scalablestreaming.io/" target="_blank">Scalable Pixel Streaming</a> by <span
            style="color: #007bff">TensorWorks</span>
    </div>
</body>

</html>